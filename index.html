<!DOCTYPE html>
<html lang="uz">
<head>
<meta charset="UTF-8">
<title>üìç Joylashuvni ulashish</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
  /* BODY & FON */
  body {
    margin: 0;
    padding: 0;
    height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(135deg, #0f172a, #1e293b);
    font-family: 'Arial', sans-serif;
    color: #e5e7eb;
  }

  /* KONTEYNER */
  .container {
    background: #020617;
    border-radius: 20px;
    padding: 40px 30px;
    max-width: 450px;
    width: 90%;
    box-shadow: 0 12px 40px rgba(0,0,0,0.6);
    text-align: center;
    position: relative;
  }

  /* BOSHLANGICH MATN */
  h1 {
    font-size: 24px;
    margin-bottom: 10px;
    color: #38bdf8;
  }
  p {
    font-size: 14px;
    color: #94a3b8;
    margin-bottom: 20px;
  }

  /* RESULT QUTISI */
  .result {
    background: #1e293b;
    border-radius: 12px;
    padding: 15px;
    margin-top: 20px;
    font-size: 14px;
    word-break: break-all;
    min-height: 60px;
  }

  /* GOOGLE MAPS LINK */
  .result a {
    color: #22c55e;
    font-weight: bold;
    text-decoration: none;
  }

  .note {
    font-size: 12px;
    color: #64748b;
    margin-top: 15px;
  }

  /* ANIMATION BARCHA */
  @keyframes fadeInUp {
    0% { opacity: 0; transform: translateY(20px); }
    100% { opacity: 1; transform: translateY(0); }
  }
  .container, .result {
    animation: fadeInUp 1s ease forwards;
  }
</style>
</head>
<body>
  <div class="container">
    <h1>üìç Joylashuvni ulashishga rozimisiz?</h1>
    <p>Ruxsat bersangiz, men sizga manzilingizni buyruq orqali yuboraman.</p>
    <div class="result" id="out">Joylashuv olinmoqda...</div>
    <div class="note">Brauzer sizdan ruxsat so‚Äòraydi. Rozilik bermasangiz, ma‚Äôlumot olinmaydi.</div>
  </div>

  <script>
    const out = document.getElementById('out');

    if (!navigator.geolocation) {
      out.textContent = "Brauzeringiz geolokatsiyani qo‚Äòllab-quvvatlamaydi.";
    } else {
      navigator.geolocation.getCurrentPosition(
        (pos) => {
          const lat = pos.coords.latitude;
          const lon = pos.coords.longitude;
          const acc = pos.coords.accuracy;

          // Hosil bo‚Äòlgan natija
          out.innerHTML = `
            <b>Joylashuv hosil bo‚Äòldi!</b><br>
            Latitude: ${lat}<br>
            Longitude: ${lon}<br>
            Aniqlik: ~${Math.round(acc)} m<br><br>
            <a href="https://www.google.com/maps?q=${lat},${lon}" target="_blank">
              Google Maps‚Äôda ochish
            </a>
          `;
        },
        (err) => {
          if(err.code === 1){
            out.textContent = "Ruxsat berilmadi. Iltimos, ruxsat bering.";
          } else {
            out.textContent = "Xatolik yuz berdi. Qayta urinib ko‚Äòring.";
          }
        },
        { enableHighAccuracy: true, timeout: 15000 }
      );
    }
  </script>
</body>
</html>
